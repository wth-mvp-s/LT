


#### 001::
`You have 10 Azure App Service instances. Each instance hosts the same web app. Each instance is in a different Azure region.
`You need to configure Azure Traffic Manager to direct users to the instance that has the lowest latency.
`Which routing method should you use? ::
`Explanation: The performance routing method in Azure Traffic Manager routes user requests to the Azure region that has the lowest latency relative to the user's location.

- [ ] geographic
- [ ] weighted
- [ ] priority
- [x] performance


#### 002::
`Your company has offices in London, Tokyo, and New York.
`The company has a web app named App1 that has the Azure Traffic Manager profile shown in the following table.
`
`
`Parameter--Value--Azure region
`DNS Name -- appl.trafficmanager.net -- Not applicable
`Endpoint -- app1-asia.azurewebsites.net -- East Asia
`Endpoint -- app1-na.azurewebsites.net -- East US
`Endpoint -- app1-na.azurewebsites.net -- UK South
`Routing method -- Geographic -- Not applicable
`
`In Asia, you plan to deploy an additional endpoint that will host an updated version of App1.
`You need to route 10 percent of the traffic from the Tokyo office to the new endpoint during testing.
`What should you configure in Traffic Manager? ::
`Explanation: By configuring one Traffic Manager profile with five endpoints, you can manage the distribution of traffic, including sending a portion to a new testing endpoint without needing additional profiles.

- [ ] two profiles and five endpoints
- [x] two profiles and four endpoints
- [ ] three profiles and four endpoints
- [ ] one profile and five endpoints

#### 002.3::
`HOTSPOT -
`You configure a route table named RT1 that has the routes shown in the following table.
`
`
`Name --Prefix -- Next hop type -- Next hop IP address
`Route1 -- 0.0.0.0/0 -- Network virtual -- 192.168.0.4
`-----------------------appliance (NVA)
`Route2 -- 10.0.0.0/24 -- Network virtual -- 192.168.0.4
`-------------------------appliance (NVA)
`
`You have an Azure virtual network named Vnet1 that has the subnets shown in the following table.
`
`
`Name ------ Prefix ---------- Route table
`DMZ ------- 192.168.0.0/24 -- None
`FrontEnd -- 192.168.1.0/24 -- RT1
`BackEnd --- 192.168.2.0/24 -- None
`
`You have the resources shown in the following table.
`
`
`Name -- IP address -- NVA1
`NVA -- 192.168.0.4 -- –¢—É—Ä–µ
`VM1 -- 192.168.1.4 -- Virtual machine
`VM2 -- 192.168.2.4 -- Virtual machine
`
`Vnet1 connects to an ExpressRoute circuit. The on-premises router advertises the following routes:
`‚úë 0.0.0.0/0
`‚úë 10.0.0.0/16
`For each of the following statements, select Yes if the statement is true. Otherwise, select No.
`NOTE: Each correct selection is worth one point.


- [x] Internet traffic from NVA1 is routed to the on-premises network. : Yes 
- [ ] Internet traffic from NVA1 is routed to the on-premises network. : No
- [ ] Traffic from VM2 to the on-premises network is routed though NVA1. : Yes
- [x] Traffic from VM2 to the on-premises network is routed though NVA1. : No
- [ ] Traffic from VM1 is routed to VM2 through NVA1. : Yes 
- [x] Traffic from VM1 is routed to VM2 through NVA1. : No


#### 003.3::
`HOTSPOT -
`You have an Azure subscription. The subscription contains virtual machines that host websites as shown in the following table.
`
`
`Name -- Public host name --------- Location
`VM1 --- site1.us.contoso.com ------ East US
`VM2 --- site1.uk.contoso.com ------ UK West
`VM3 --- site2.us.contoso.com ------ East US
`VM4 --- site2.uk.contoso.com ------ UK West
`VM5 --- site2.japan.contoso.com -- Japan West
`
`You have the Azure Traffic Manager profiles shown in the following table.
`
`
`
`Name -- Routing method -- DNS name -- Hosted on
`Tm1 -- Performance ------ site1.contoso.com -- VM1 and VM2
`Tm2 -- Priority ----- site2.contoso.com -- VM3, VM4, and VM5
`
`You have the endpoints shown in the following table.
`
`Name -- Traffic Manager profile-- Azure endpoint -- Routing method parameter -- Status
`Ep1 --- Tm1 --------------------- VM1 ------------- 1 -------------------------- Degraded 
`Ep2 --- Tm1 --------------------- VM2 ------------- 2 -------------------------- Online
`Ep3 --- Tm2 --------------------- VM3 ------------- 1 -------------------------- CheckingEndpoint
`Ep4 --- Tm2 --------------------- VM4 ------------- 2 -------------------------- Online
`Ep5 --- Tm2 --------------------- VM5 ------------- 3 -------------------------- Online
`
`For each of the following statements, select Yes if the statement is true. Otherwise, select No.
`NOTE: Each correct selection is worth one point.


- [ ] A user that requests site1.contoso.com from the East US Azure region will connect to site1.us.contoso.com. : Yes
- [x] A user that requests site1.contoso.com from the East US Azure region will connect to site1.us.contoso.com. : No
- [ ] A user that requests site2.contoso.com from the East US Azure region will connect to site2.uk.contoso.com. : Yes
- [x] A user that requests site2.contoso.com from the East US Azure region will connect to site2.uk.contoso.com. : No
- [ ] A user that requests site2.contoso.com from the Japan East Azure region will connect to site2.japan.contoso.com. : Yes
- [x] A user that requests site2.contoso.com from the Japan East Azure region will connect to site2.japan.contoso.com. : No



#### 003::
`You have an Azure application gateway configured for a single website that is available at https://www.contoso.com.
`The application gateway contains one backend pool and one rule. The backend pool contains two backend servers. Each backend server has an additional website that is available on port 8080.
`You need to ensure that if port 8080 is unavailable on a backend server, all the traffic for https://www.contoso.com is redirected to the other backend server.
`What should you do? ::
`Explanation: Creating a health probe allows the application gateway to monitor the availability of port 8080 on the backend servers and redirect traffic if a server becomes unavailable.

- [x] Create a health probe
- [ ] Add a new rule
- [ ] Change the port on the listener
- [ ] Add a new listener


####?? 004::
`You have an Azure subscription that contains the following resources:
`- A virtual network named Vnet1
`- Two subnets named subnet1 and AzureFirewallSubnet
`- A public Azure Firewall named FW1
`- A route table named RT1 that is associated to Subnet1
`- A rule routing of 0.0.0.0/0 to FW1 in RT1
`After deploying 10 servers that run Windows Server to Subnet1, you discover that none of the virtual machines were activated.
`You need to ensure that the virtual machines can be activated.
`What should you do? ::
`Explanation: By configuring an outbound service tag rule for AzureCloud on FW1, the traffic required for Windows Server activation via Azure Key Management Service (KMS) can pass through the firewall.

- [ ] On FW1, create an outbound service tag rule for AzureCloud.
- [x] Add an internet route to RT1 for the Azure Key Management Service (KMS).
- [ ] On FW1, configure a DNAT rule for port 1688.
- [ ] Deploy an Azure Standard Load Balancer that has an outbound NAT rule.


#### 005.2::
`You have an Azure subscription.
`
`You plan to implement Azure Virtual WAN as shown in the following exhibit.
`
`--‚òÅ------------‚òÅ--------------------‚òÅ------------‚òÅ-------
`Vnet1---------Vnet2-----------------Vnet3---------Vnet4------
`<...>---------<...>-----------------<...>---------<...>------
`--||------------||--------------------||------------||-------
`--||------------||--------------------||------------||-------
`--||------------||--------------------||------------||-------
`--||------------||---Hub to hub ------||------------||-------
`--||------------||---connectivity-----||------------||-------
`--||------------||________üó≤__________||------------||_______
`--||------------||--------------------||------------||-------
`--||------------||--------------------||------------||-------
`--||------------||==üó≤----------------||------------||==üó≤---
`--||----------ExpressRoute------------||----------ExpressRout
`--||----------Circuit 1---------------||----------Circuit 2--
`-|‚û≤|--------------------------------|‚û≤|--------------------
`--VPNBRANCH1--------------------------VPNBRANCH2-------------
`-------------------------------------------------------------
`-------------------------------------------------------------
`
`What is the minimum number of route tables that you should create?

- [ ] 1
- [x] 2
- [ ] 4
- [ ] 6

#### 005.3::
`You have an internal Basic Azure Load Balancer named LB1 that has two frontend IP addresses.
`The backend pool of LB1 contains two Azure virtual machines named VM1 and VM2.
`
`You need to configure the rules on LB1 as shown in the following table.
`
`
`
`Rule -- Frontend IP -- Protocol -- ILB1 port -- Destination --------------------- VM port
`--------address
`1 ----- 65.52.0.1 ---- TCP -------- 80 -- IP address of the NIC of VM1 and VM2 -- 80
`2 ----- 65.52.0.2 ---- TCP -------- 80 -- IP address of the NIC of VM1 and VM2 -- 80
`
`What should you do for each rule?

- [x] Enable Floating IP.
- [ ] Disable Floating IP.
- [ ] Set Session persistence to Enabled.
- [ ] Set Session persistence to Disabled.

#### 005::
`Your company has 40 branch offices that are linked by using a Software-Defined Wide Area Network (SD-WAN). The SD-WAN uses BGP.
`You have an Azure subscription that contains 20 virtual networks configured as a hub and spoke topology. The topology contains a hub virtual network named Vnet1.
`The virtual networks connect to the SD-WAN by using a network virtual appliance (NVA) in Vnet1.
`You need to ensure that BGP route advertisements will propagate between the virtual networks and the SD-WAN. The solution must minimize administrative effort.
`What should you implement? ::
`Explanation: Azure Route Server simplifies the management of routing tables in Azure, allowing BGP route advertisements to propagate automatically between the SD-WAN and Azure virtual networks with minimal administrative effort.
`::
`https://learn.microsoft.com/en-us/azure/route-server/overview
`Azure Route Server is a fully managed service and is configured with high availability.
`Azure Route Server simplifies dynamic routing between your network virtual appliance (NVA)
`and your virtual network.
`When BGP Peering is set up with this, it eliminates the need to manually update routes across all connected networks.

- [ ] An Azure VPN Gateway that has BGP enabled
- [ ] a NAT gateway
- [ ] Azure Traffic Manager
- [x] Azure Route Server




#### 006.2::
`HOTSPOT
`-
`
`You have an Azure load balancer that has the following configurations:
`
`‚Ä¢ Name: LB1
`‚Ä¢ Location: East US 2
`‚Ä¢ SKU: Standard
`‚Ä¢ Private IP address: 10.3.0.7
`‚Ä¢ Load balancing rule: rule1 (Tcp/80)
`‚Ä¢ Health probe: probe1 (Http:80)
`‚Ä¢ NAT rules: 0 inbound
`
`The backend pool of LB1 has the following configurations:
`
`‚Ä¢ Name: backend1
`‚Ä¢ Virtual network: Vnet2
`‚Ä¢ Backend pool configuration: NIC
`‚Ä¢ IP version: IPv4
`‚Ä¢ Virtual machines: VM1, VM2, VM3
`
`You have an Azure virtual machine named VM4 that has the following network configurations:
`
`‚Ä¢ Network interface: vm4981
`‚Ä¢ Virtual network/subnet: Vnet3/Subnet3
`‚Ä¢ NIC private IP address: 10.4.0.4
`‚Ä¢ Accelerated networking: Enabled
`
`
`NOTE: Each correct selection is worth one point.
`::
`N - Tested in lab and confirmed once 1 backend pool has been configured you cannot add another backend pool on a different VNET, the original VNET is always selected.
`Y - VM1 is on VNET2
`N - rule 1 is TCP/80, not 443 (HTTPS)

- [ ] To add VM4 to LB1, you must create a new backend pool. : Yes
- [x] To add VM4 to LB1, you must create a new backend pool. : No
- [x] VM1 is connected to Vnet2. : Yes
- [ ] VM1 is connected to Vnet2. : No
- [ ] Connections to HTTPS://10.3.0.7 will be load balanced between VM1, VM2, and VM3. : Yes
- [x] Connections to HTTPS://10.3.0.7 will be load balanced between VM1, VM2, and VM3. : No


#### 006.2::
`DRAG DROP
`-
`
`Your company, named Contoso, Ltd., has an Azure subscription that contains the resources shown in the following table.
`
`
`Name -- –¢—É—Ä–µ -- Location -- Description
`App1us -- Azure App Service -- East US -- A website for the
`------------------------------------------United States office of 
`------------------------------------------Contoso
`App1uk -- Azure App Service -- UK West -- A website for the
`------------------------------------------United Kingdom office 
`------------------------------------------of Contoso
`St1us -- Storage account -- East US ------Contains images for 
`------------------------------------------the United States
`------------------------------------------website
`St1uk -- Storage account -- UK West ------Contains images for
`----------------------------------------- the United Kingdom 
`------------------------------------------website
`
`You plan to deploy Azure Front Door. The solution must meet the following requirements:
`
`‚Ä¢ Requests to a URL of https://contoso.azurefd.net/uk must be routed to App1uk.
`‚Ä¢ Requests to a URL of https://contoso.azurefd.net/us must be routed to App1us.
`‚Ä¢ Requests to a URL of https://contoso.azurefd.net/images must be routed to the storage account closest to the user.
`
`What is the minimum number of backend pools and routing rules you should create? To answer, drag the appropriate number to the correct components. Each number may be used once, more than once, or not at all. You may need to drag the split bar between panes or scroll to view content.
`
`NOTE: Each correct selection is worth one point.
`::
`3 Backend Pools | 3 Rules
`
`I believe this is a Classic Front Door question. The first reference link provides an overview of classic routing. The questions shows we have a single frontend (contoso.azurefd.net) and there are three paths - /uk, /us, and /images.
`
`The second link shows the three paths would each be a separate rule.
`
`Regarding the number of backend pools, the question states, "...must be routed to [App1uk or App1us]" for the two App Services. The third link does not indicate there is a way to route traffic to a specific app service based on location. However, if we put each app service in its own backend pool, we can have the path rule route to the correct App Service everytime. 
`The Latency routing logic is fine for storage accounts, but not the App Services based on the question requirements.
`
`References
`https://learn.microsoft.com/en-us/azure/frontdoor/front-door-routing-architecture?pivots=front-door-classic
`https://learn.microsoft.com/en-us/azure/frontdoor/front-door-route-matching?pivots=front-door-classic#frontend-host-matching
`https://learn.microsoft.com/en-us/azure/frontdoor/routing-methods

- [ ] Backend pools : 1
- [ ] Backend pools : 2
- [x] Backend pools : 3
- [ ] Backend pools : 4
- [ ] Routing rules : 1
- [ ] Routing rules : 2
- [x] Routing rules : 3
- [ ] Routing rules : 4





#### 006::
`You have an Azure subscription that contains the following resources:
`- A virtual network named Vnet1
`- Two subnets named subnet1 and AzureFirewallSubnet
`- A public Azure Firewall named FW1
`- A route table named RT1 that is associated to Subnet1
`- A rule routing of 0.0.0.0/0 to FW1 in RT1
`After deploying 10 servers that run Windows Server to Subnet1, you discover that none of the virtual machines were activated.
`You need to ensure that the virtual machines can be activated.
`What should you do? ::
`Explanation: Associating a network security group (NSG) that allows outbound access to port 1688 with Subnet1 ensures that activation traffic to the Azure Key Management Service (KMS) can pass through, allowing the servers to be activated.

- [ ] On FW1, configure a DNAT rule for port 1688
- [ ] Deploy a NAT gateway.
- [ ] Add an internet route to RT1 for the Azure Key Management Service (KMS).
- [x] To Subnet1, associate a network security group (NSG) that allows outbound access to port 1688.

#### 007::
`You have an on-premises network.
`You have an Azure subscription that includes a virtual network named VNet1 and a private Azure Kubernetes Service (AKS) cluster named AKS1. VNet1 is connected to your on-premises environment via an Azure ExpressRoute circuit. AKS1 is connected to VNet1.
`You need to implement an off-cluster ingress controller for AKS1. The solution must provide connectivity from the on-premises environment to containerized workloads hosted on AKS1.
`Which Azure service should you use? ::
`Explanation: Azure Application Gateway can act as an ingress controller for AKS, providing secure HTTP-based access to applications from your on-premises network via the connected VNet1.

- [x] Azure Application Gateway
- [ ] Azure Front Door
- [ ] Azure Traffic Manager
- [ ] Azure Load Balancer


#### 008::
`You have an Azure subscription that contains the following resources:
`- A virtual network named Vnet1
`- Two subnets named subnet1 and AzureFirewallSubnet
`- A public Azure Firewall named FW1
`- A route table named RT1 that is associated to Subnet1
`- A rule routing of 0.0.0.0/0 to FW1 in RT1
`After deploying 10 servers that run Windows Server to Subnet1, you discover that none of the virtual machines were activated.
`You need to ensure that the virtual machines can be activated.
`What should you do? ::
`Explanation: Creating an outbound network rule on FW1 that allows traffic to the Azure Key Management Service (KMS) enables the servers in Subnet1 to access KMS for activation.

- [ ] On FW1, configure a DNAT rule for port 1688.
- [x] On FW1, create an outbound network rule that allows traffic to the Azure Key Management Service (KMS).
- [ ] Deploy an application security group that allows outbound traffic to 1688.
- [ ] Deploy an Azure Standard Load Balancer that has an outbound NAT rule.


#### 009::
`You have an Azure subscription that contains a virtual network named VNet1. VNet1 contains a subnet named Subnet1.
`You deploy an instance of Azure Application Gateway v2 named AppGw1 to Subnet1. You create a network security group (NSG) named NSG1 and link NSG1 to Subnet1.
`You need to ensure that AppGw1 will only load balance traffic that originates from VNet1. The solution must minimize the impact on the functionality of AppGw1.
`What should you add to NSG1? ::
`Explanation: Adding an inbound rule to NSG1 that blocks all internet traffic ensures that only traffic originating from within VNet1 can reach AppGw1, without affecting its core functionalities.

- [ ] an outbound rule that has a priority of 4096 and blocks all internet traffic
- [x] an inbound rule that has a priority of 4096 and blocks all internet traffic
- [ ] an inbound rule that has a priority of 100 and blocks all internet traffic
- [ ] an outbound rule that has a priority 100 and blocks all internet traffic


#### 010::
`You plan to implement an Azure virtual network that will contain 10 virtual subnets. The subnets will use IPv6 addresses. Each subnet will host up to 200 load-balanced virtual machines.
`You need to recommend a load balancing solution for the virtual network. The solution must meet the following requirements:
`- The virtual machines and the load balancer must be accessible only from the virtual network.
`- Costs must be minimized.
`What should you include in the recommendation? ::
`Explanation: The Azure Standard Load Balancer supports IPv6 and provides internal load balancing capabilities, making it suitable for scenarios where both the virtual machines and the load balancer should be accessible only from within the virtual network, while also focusing on cost efficiency.

- [ ] Basic Azure Load Balancer
- [ ] Azure Application Gateway v1
- [x] Azure Standard Load Balancer
- [ ] Azure Application Gateway v2



#### 011::
`You have an Azure subscription that contains the following resources:
`- A virtual network named Vnet1
`- Two subnets named subnet1 and AzureFirewallSubnet
`- A public Azure Firewall named FW1
`- A route table named RT1 that is associated to Subnet1
`- A rule routing of 0.0.0.0/0 to FW1 in RT1
`After deploying 10 servers that run Windows Server to Subnet1, you discover that none of the virtual machines were activated.
`You need to ensure that the virtual machines can be activated.
`What should you do? ::
`Explanation: Configuring a DNAT rule for port 1688 on FW1 will redirect KMS activation traffic correctly through the firewall to allow the virtual machines on Subnet1 to reach the Azure Key Management Service (KMS) for activation.

- [x] On FW1, configure a DNAT rule for port 1688.
- [ ] Deploy an application security group that allows outbound traffic to 1688.
- [ ] Add an internet route to RT1 for the Azure Key Management Service (KMS).
- [ ] Deploy an Azure Standard Load Balancer that has an outbound NAT rule.
